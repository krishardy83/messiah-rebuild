---
import type { HTMLAttributes } from "astro/types";
import { cn } from "../lib/utils";

interface Props extends HTMLAttributes<"article"> {
  title: string;
  subtitle?: string;
  image?: string;
  url: string;
}

const { title, subtitle, image, url, class: className, ...props } = Astro.props;
---

<article
  {...props}
  class={cn("@container not-prose border border-gray-300 bg-gray-100 px-6 py-4", className)}
>
  <div class="flex flex-col @md:flex-row gap-4">
    {
      image ? (
        <figure class="@md:w-1/3">
          <img src={image} alt={title} class="h-full object-cover" />
        </figure>
      ) : null
    }

    <div class="@md:w-2/3">
      <h3 class="h4 text-primary-800">{title}</h3>
      {
        subtitle ? (
          <p class="font-title uppercase text-tertiary-500 font-bold mb-4">{subtitle}</p>
        ) : null
      }

      <p class="text-sm">
        <slot />
      </p>

      <a href={url} class="btn btn-quaternary mt-4">Example link</a>
    </div>
  </div>
</article>
