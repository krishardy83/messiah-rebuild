---
import Icon from "../components/icon.astro";
import SingleColumn from "../layouts/single-column.astro";

const entries = [
  {
    title: "Inauguration of President Phipps",
    image: "/images/kim-phipps/Phipps-2005-Inauguration.jpg",
    year: "October 14, 2005",
    description: "Messiah celebrates the inauguration of President Phipps with a weeklong schedule of special events for students, employees, alumni, community members and friends — culminating with the inauguration ceremony and festivities.",
  },
  {
    title: "Athletics History",
    image: "/images/kim-phipps/Phipps-2005-Soccer.jpg",
    year: "2005",
    description:
      "Messiah makes athletics history by becoming the first NCAA Division III soccer program to win the men's and women's championships in the same year.",
  },
  {
    title: "$50.5 million raised",
    image: "/images/kim-phipps/Phipps-2005-Campaign.jpg",
    year: "2005",
    description: "Completion of the To Serve and To Lead Campaign ($50.5 million) — Messiah's largest campaign to date — including the construction of Boyer Hall, Larsen Student Union, and the expansion of Climenhaga Fine Arts Building.",
  },
  {
    title: "National Endowment for the Humanities",
    image: "/images/kim-phipps/Phipps-2006.jpg",
    year: "2006",
    description:
      "The Center for Public Humanities receives a competitive $200,000 grant from the National Endowment for the Humanities.",
  },
  {
    title: "Online course offerings",
    image: "/images/kim-phipps/Phipps-2008-MessiahOnline.jpg",
    year: "2008",
    description:
      "Launch of Messiah's first online undergraduate courses (Messiah Summer Online) with 18 courses enrolling 222 students.",
  },
  {
    title: "Compassion Forum",
    image: "/images/kim-phipps/Phipps-2008-CompassionForum.jpg",
    year: "2008",
    description: "Messiah hosts the Compassion Forum, a nationally televised, unprecedented conversation with presidential candidates, Hillary Clinton and Barack Obama, on the integration of faith and public policy.",
  },
];
---

<SingleColumn title="Kim S. Phipps" description="Kim S. Phipps" image="">
  <div
    class="max-w-7xl mx-auto px-4 py-12"
    x-data="{
      embla: null,
      index: 0,

      init() {
        this.embla = EmblaCarousel(this.$refs.embla, {
          containScroll: false,
        });

        this.embla.on('select', (api) => {
          this.index = api.selectedScrollSnap();
        });
      },

      scrollNext() {
        this.embla.scrollNext();
      },

      scrollPrev() {
        this.embla.scrollPrev();
      },
  }"
  >
    <div
      class="overflow-hidden relative before:absolute before:w-56 before:bg-gradient-to-r before:from-transparent before:z-10 before:to-white before:right-0 before:top-0 before:h-full after:absolute after:w-56 after:bg-gradient-to-l after:from-transparent after:z-10 after:to-white after:left-0 after:top-0 after:h-full"
      x-ref="embla"
    >
      <div class="flex touch-pan-y gap-8">
        {
          entries.map((entry, index) => (
            <div class="basis-1/3 flex-shrink-0 flex-grow-0 text-center duration-300 transition-all" :class={`${index} === index ? '' : 'scale-90 opacity-60'`}>
              <h3 class="h4 text-primary-800 mb-4 transition-opacity duration-300" :class={`${index} === index ? '' : 'opacity-0'`}>{entry.year}</h3>
              <img src={entry.image} alt={entry.title} class="mb-4" width="420" height="280" />
              <p class="h3 text-primary-800">{entry.title}</p>
              <p class="transition-opacity duration-300" :class={`${index} === index ? '' : 'opacity-0'`}>{entry.description}</p>
            </div>
          ))
        }
      </div>

      <nav>
        <button
          type="button"
          class="absolute top-1/2 -translate-y-1/2 text-gray-700 left-0 z-20 transition-opacity duration-300"
          :class="index === 0 ? 'opacity-0 pointer-events-none' : ''"
          @click="scrollPrev"
        >
          <Icon name="chevron-right" class="size-12 rotate-180" />
        </button>
        <button
          type="button"
          class="absolute top-1/2 -translate-y-1/2 text-gray-700 right-0 z-20 transition-opacity duration-300"
          :class={`index === ${entries.length - 1} ? 'opacity-0 pointer-events-none' : ''`}
          @click="scrollNext"
        >
          <Icon name="chevron-right" class="size-12" />
        </button>
      </nav>
    </div>
  </div>
</SingleColumn>
