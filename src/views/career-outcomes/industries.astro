---
import Icon from "../../components/icon.astro";
---

<section class="bg-gray-100" x-show="isAggregateSelected()">
  <div class="max-w-6xl mx-auto px-4 py-16 relative">
    <h2 class="h2 text-primary-800 text-center">Industries represented by our 2022 graduates</h2>

    <div class="grid grid-cols-1 sm:grid-cols-2 gap-8 sm:gap-16 mt-16">
      <div class="h-72 sm:h-auto">
        <div class="flex items-end h-full">
          <div
            :style="`--color: #00777B; height: ${getEmploymentPercentage(selected?.industriesArt)}%`"
            class="flex-1 bg-[var(--color)]"
            :class="selected?.industriesArt === '0' ? 'bg-transparent' : 'bg-[var(--color)]'"
            x-tooltip="`${selected?.industriesArt}% Arts / Music / Entertainment`"
          >
          </div>
          <div
            :style="`--color: #DCAC42; height: ${getEmploymentPercentage(selected?.industriesAthletics)}%`"
            class="flex-1"
            :class="selected?.industriesAthletics === '0' ? 'bg-transparent' : 'bg-[var(--color)]'"
            x-tooltip="`${selected?.industriesAthletics}% Athletics / Recreation / Sports`"
          >
          </div>
          <div
            :style="`--color: #5890B1; height: ${getEmploymentPercentage(selected?.industriesBusiness)}%`"
            class="flex-1 bg-[var(--color)]"
            :class="selected?.industriesBusiness === '0' ? 'bg-transparent' : 'bg-[var(--color)]'"
            x-tooltip="`${selected?.industriesBusiness}% Business / Accounting / Financial Services`"
          >
          </div>
          <div
            :style="`--color: #E1B085; height: ${getEmploymentPercentage(selected?.industriesCommunications)}%`"
            class="flex-1 bg-[var(--color)]"
            :class="selected?.industriesCommunications === '0' ? 'bg-transparent' : 'bg-[var(--color)]'"
            x-tooltip="`${selected?.industriesCommunications}% Communications / Media`"
          >
          </div>
          <div
            :style="`--color: #CF661F; height: ${getEmploymentPercentage(selected?.industriesComputerScience)}%`"
            class="flex-1 bg-[var(--color)]"
            :class="selected?.industriesComputerScience === '0' ? 'bg-transparent' : 'bg-[var(--color)]'"
            x-tooltip="`${selected?.industriesComputerScience}% Computer Science / IT`"
          >
          </div>
          <div
            :style="`--color: #74ACCF; height: ${getEmploymentPercentage(selected?.industriesEducation)}%`"
            class="flex-1 bg-[var(--color)]"
            :class="selected?.industriesEducation === '0' ? 'bg-transparent' : 'bg-[var(--color)]'"
            x-tooltip="`${selected?.industriesEducation}% Education`"
          >
          </div>
          <div
            :style="`--color: #5879BC; height: ${getEmploymentPercentage(selected?.industriesEngineering)}%`"
            class="flex-1 bg-[var(--color)]"
            :class="selected?.industriesEngineering === '0' ? 'bg-transparent' : 'bg-[var(--color)]'"
            x-tooltip="`${selected?.industriesEngineering}% Engineering`"
          >
          </div>
          <div
            :style="`--color: #97B29A; height: ${getEmploymentPercentage(selected?.industriesGovernment)}%`"
            class="flex-1 bg-[var(--color)]"
            :class="selected?.industriesGovernment === '0' ? 'bg-transparent' : 'bg-[var(--color)]'"
            x-tooltip="`${selected?.industriesGovernment}% Government`"
          >
          </div>
          <div
            :style="`--color: #C85C4F; height: ${getEmploymentPercentage(selected?.industriesHumanServices)}%`"
            class="flex-1 bg-[var(--color)]"
            :class="selected?.industriesHumanServices === '0' ? 'bg-transparent' : 'bg-[var(--color)]'"
            x-tooltip="`${selected?.industriesHumanServices}% Human Services / Social Services`"
          >
          </div>
          <div
            :style="`--color: #293D5E; height: ${getEmploymentPercentage(selected?.industriesNonProfit)}%`"
            class="flex-1 bg-[var(--color)]"
            :class="selected?.industriesNonProfit === '0' ? 'bg-transparent' : 'bg-[var(--color)]'"
            x-tooltip="`${selected?.industriesNonProfit}% Non Profit`"
          >
          </div>
          <div
            :style="`--color: #7376B8; height: ${getEmploymentPercentage(selected?.industriesNursing)}%`"
            class="flex-1 bg-[var(--color)]"
            :class="selected?.industriesNursing === '0' ? 'bg-transparent' : 'bg-[var(--color)]'"
            x-tooltip="`${selected?.industriesNursing}% Nursing / Health care`"
          >
          </div>
          <div
            :style="`--color: #64856C; height: ${getEmploymentPercentage(selected?.industriesReligious)}%`"
            class="flex-1 bg-[var(--color)]"
            :class="selected?.industriesReligious === '0' ? 'bg-transparent' : 'bg-[var(--color)]'"
            x-tooltip="`${selected?.industriesReligious}% Religious / Ministry Organization`"
          >
          </div>
          <div
            :style="`--color: #AA4D42; height: ${getEmploymentPercentage(selected?.industriesScience)}%`"
            class="flex-1 bg-[var(--color)]"
            :class="selected?.industriesScience === '0' ? 'bg-transparent' : 'bg-[var(--color)]'"
            x-tooltip="`${selected?.industriesScience}% Science / Research`"
          >
          </div>
        </div>
        <p class="text-sm mt-1 text-center">Hover over bar to see percentage</p>
      </div>

      <ul class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
        <li
          style="--color: #00777B"
          class="flex items-center gap-2 before:size-4 before:rounded-full before:bg-[var(--color)]"
        >
          Arts / Music / Entertainment
        </li>
        <li
          style="--color: #DCAC42"
          class="flex items-center gap-2 before:size-4 before:rounded-full before:bg-[var(--color)]"
        >
          Athletics / Recreation / Sports
        </li>
        <li
          style="--color: #5890B1"
          class="flex items-center gap-2 before:size-4 before:rounded-full before:bg-[var(--color)]"
        >
          Business / Accounting / Financial Services
        </li>
        <li
          style="--color: #E1B085"
          class="flex items-center gap-2 before:size-4 before:rounded-full before:bg-[var(--color)]"
        >
          Communications / Media
        </li>
        <li
          style="--color: #CF661F"
          class="flex items-center gap-2 before:size-4 before:rounded-full before:bg-[var(--color)]"
        >
          Computer Science / IT
        </li>
        <li
          style="--color: #74ACCF"
          class="flex items-center gap-2 before:size-4 before:rounded-full before:bg-[var(--color)]"
        >
          Education
        </li>
        <li
          style="--color: #5879BC"
          class="flex items-center gap-2 before:size-4 before:rounded-full before:bg-[var(--color)]"
        >
          Engineering
        </li>
        <li
          style="--color: #97B29A"
          class="flex items-center gap-2 before:size-4 before:rounded-full before:bg-[var(--color)]"
        >
          Government
        </li>
        <li
          style="--color: #C85C4F"
          class="flex items-center gap-2 before:size-4 before:rounded-full before:bg-[var(--color)]"
        >
          Human Services / Social Services
        </li>
        <li
          style="--color: #293D5E"
          class="flex items-center gap-2 before:size-4 before:rounded-full before:bg-[var(--color)]"
        >
          Non Profit
        </li>
        <li
          style="--color: #7376B8"
          class="flex items-center gap-2 before:size-4 before:rounded-full before:bg-[var(--color)]"
        >
          Nursing / Health care
        </li>
        <li
          style="--color: #64856C"
          class="flex items-center gap-2 before:size-4 before:rounded-full before:bg-[var(--color)]"
        >
          Religious / Ministry Organization
        </li>
        <li
          style="--color: #AA4D42"
          class="flex items-center gap-2 before:size-4 before:rounded-full before:bg-[var(--color)]"
        >
          Science / Research
        </li>
      </ul>
    </div>

    <button @click="open = true" class="absolute right-4 bottom-8">
      <Icon name="info" class="size-8" />
    </button>
  </div>
</section>
